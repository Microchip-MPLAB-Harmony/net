<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Dynamic DNS Module" />
<meta name="DC.relation" scheme="URI" content="GUID-01A0A1D8-EC9B-4EFF-B8E4-D154B555FEF2.html" />
<meta name="DC.relation" scheme="URI" content="GUID-86CC02C8-D745-4FA0-997C-B159841754D1.html" />
<meta name="DC.relation" scheme="URI" content="GUID-7BC86480-5549-4770-8972-AF0F26B986FB.html" />
<meta name="DC.relation" scheme="URI" content="GUID-379E8A57-2BF6-41A8-8311-BF809E290BED.html" />
<meta name="DC.relation" scheme="URI" content="GUID-572B3F57-64AE-455D-8E24-BF2529ED80A5.html" />
<meta name="DC.relation" scheme="URI" content="GUID-116454BB-4CFC-454C-8A9F-78F592665C35.html" />
<meta name="DC.relation" scheme="URI" content="GUID-CFF83565-2B45-45E6-98B4-818917BFDA20.html" />
<meta name="DC.relation" scheme="URI" content="GUID-5DCE3C18-37C0-4BA2-B508-EAF38C636474.html" />
<meta name="DC.relation" scheme="URI" content="GUID-A66340B9-1452-42AC-A631-2F9EA573AD31.html" />
<meta name="DC.relation" scheme="URI" content="GUID-B0554782-C0D1-4F61-9058-D2CD5A521A88.html" />
<meta name="DC.relation" scheme="URI" content="GUID-AAC41CD0-1737-4B46-BDDE-AB089B69ECAB.html" />
<meta name="DC.relation" scheme="URI" content="GUID-474FCB42-ED87-4467-918F-826F4E11F025.html" />
<meta name="DC.relation" scheme="URI" content="GUID-766BE7AD-BF8C-413A-90F1-0BAC0BF710DD.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="dynamic-dns-module" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Dynamic DNS Module</title>
<meta name="Microsoft.Help.Id" content="GUID-B1AF6B2B-BC62-4D92-B329-A50140DF3437-dynamic-dns-module" />
<meta name="Microsoft.Help.TocParent" content="GUID-B1AF6B2B-BC62-4D92-B329-A50140DF3437" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB® Harmony TCP/IP Library Reference A 10/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-2F39A35D-A741-49F8-BAA9-3B3C9B665486"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="dynamic-dns-module">
<h1 class="title topictitle1" id="ariaid-title1">Dynamic DNS Module</h1><div class="body"><p class="p">The Dynamic DNS Client module provides a method for updating a dynamic IP address to a public DDNS service. These services can be used to provide DNS hostname mapping to devices that behind routers, firewalls, and/or on networks that dynamically assign IP addresses.</p>
<p class="p">Note that this only solves one of the two problems for communicating to devices on local subnets from the Internet. While Dynamic DNS can help to locate the device, the router or firewall it sits behind must still properly forward the incoming connection request. This generally requires port forwarding to be configured for the router behind which the device is located.</p>
<p class="p">The Dynamic DNS client supports the popular interface used by No-IP (noip.com) and DNS-O-Matic (dnsomatic.com).</p>
<blockquote class="lq"><p class="p">Important: The dynamic DNS services stipulate that updates should be made no more frequently than 10 minutes, and only when the IP address has changed. Updates made more often than that are considered abusive, and may eventually cause your account to be disabled. Production devices that get rebooted frequently may need to store the last known IP in non-volatile memory. You also should not enable this module while testing the rest of your application</p>
</blockquote>
<p class="p"><strong class="ph b">Abstraction Model</strong></p>
<br /><img class="image" src="GUID-B3CF31E7-F276-4474-891C-E33F190B69CA-low.png" alt="TCPIP DDNS Abstraction Model" /><br /><p class="p"><strong class="ph b">Library Interface</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:middle;" id="d46023e34"><span>Name</span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d46023e36"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span><strong class="ph b">Macros</strong></span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span> </span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_CHECKIP_SERVER</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Default CheckIP server for determining current IP address</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_TASK_TICK_RATE</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>dynDNS task rate, ms The default value is hundreds of milliseconds. The lower the rate (higher the frequency) the higher the module priority and higher module performance can be obtained The value cannot be lower than the TCPIP_STACK_TICK_RATE.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span><strong class="ph b">Functions</strong></span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span> </span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_Task</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Standard TCP/IP stack module task function.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_LastIPGet</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Returns the last known external IP address of the device.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_LastStatusGet</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Returns the status of the most recent update.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_ServiceSet</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Selects a preconfigured Dynamic DNS service.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DDNS_UpdateForce</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Forces an immediate DDNS update.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span><strong class="ph b">Data Types and Constants</strong></span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span> </span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>DDNS_SERVICES</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Dynamic DNS Services. Must support the DynDNS API (Auxlang) and correspond to ddnsServiceHosts and ddnsServicePorts in DynDNS.c.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>DDNS_STATUS</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Status message for DynDNS client. GOOD and NOCHG are okay, but ABUSE through 911 are fatal. UNCHANGED through INVALID are locally defined.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>DDNS_MODULE_CONFIG</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>This is type DDNS_MODULE_CONFIG.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>DDNSClient</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Global DDNS Configuration parameters</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>DDNS_POINTERS</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>Configuration parameters for the Dynamic DNS Client</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DNSS_RESOLVE_TYPE</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>DNS query record type.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e34 "><span>TCPIP_DNSS_RESULT_OBSOLETE</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d46023e36 "><span>DNS result codes</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-86CC02C8-D745-4FA0-997C-B159841754D1.html">DDNS_MODULE_CONFIG Structure</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-7BC86480-5549-4770-8972-AF0F26B986FB.html">DDNS_POINTERS Structure</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-379E8A57-2BF6-41A8-8311-BF809E290BED.html">DDNS_SERVICES Enumeration</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-572B3F57-64AE-455D-8E24-BF2529ED80A5.html">DDNS_STATUS Enumeration</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-116454BB-4CFC-454C-8A9F-78F592665C35.html">DDNSClient Variable</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-CFF83565-2B45-45E6-98B4-818917BFDA20.html">TCPIP_DDNS_LastIPGet Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-5DCE3C18-37C0-4BA2-B508-EAF38C636474.html">TCPIP_DDNS_LastStatusGet Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-A66340B9-1452-42AC-A631-2F9EA573AD31.html">TCPIP_DDNS_ServiceSet Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-B0554782-C0D1-4F61-9058-D2CD5A521A88.html">TCPIP_DDNS_Task Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-AAC41CD0-1737-4B46-BDDE-AB089B69ECAB.html">TCPIP_DDNS_UpdateForce Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-474FCB42-ED87-4467-918F-826F4E11F025.html">TCPIP_DNSS_RESOLVE_TYPE Enumeration</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-766BE7AD-BF8C-413A-90F1-0BAC0BF710DD.html">TCPIP_DNSS_RESULT_OBSOLETE Enumeration</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-01A0A1D8-EC9B-4EFF-B8E4-D154B555FEF2.html">MPLAB® Harmony TCP/IP Library</a></div>
</div>
</div></body>
</html>