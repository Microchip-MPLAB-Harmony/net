<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="This module provides software abstraction of the IPv4 module existent in any TCP/IP Stack implementation. The typical usage of the IP layer_in a TCP/IP stack for transmitting a packet is shown in the ..."/><meta name="copyright" content="(C) Copyright 2024"/><meta name="generator" content="DITA-OT"/><title>1.2.4.5.1 Abstraction Model</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956-d10887e7839"/><meta name="wh-source-relpath" content="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956.xml"/><meta name="wh-out-relpath" content="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB® Harmony 3 TCP/IP Library &#xA;    "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB® Harmony 3 TCP/IP Library 
    </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0"><div class="title"><a href="GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
TCP/IP Stack Libraries Help</a></div></div></li><li><div class="topicref" data-id="mplab-harmony-tcpip-library"><div class="title"><a href="GUID-01A0A1D8-EC9B-4EFF-B8E4-D154B555FEF2.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
MPLAB® Harmony TCP/IP Library</a></div></div></li><li><div class="topicref" data-id="GUID-DBB5E017-A0FD-400E-BB4C-E19495836520"><div class="title"><a href="GUID-DBB5E017-A0FD-400E-BB4C-E19495836520.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4</ph>
Network Layer</a></div></div></li><li><div class="topicref" data-id="GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353"><div class="title"><a href="GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.5</ph>
IPv4 Module</a></div></div></li><li class="active"><div class="topicref" data-id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956"><div class="title"><a href="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.5.1</ph>
Abstraction Model</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            <div class="row" style="margin-top: -1em;"><div class="col-lg-7 col-md-7 col-sm-12 offset-lg-3 offset-md-3 text-right border-bottom mb-1"><h2 class="text-dark header_title">
    </h2></div></div>
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0-d10887e11" class="topicref" data-id="GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0-d10887e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0.html" id="GUID-D4AB047B-AA57-433C-9975-88FC7E7798B0-d10887e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
TCP/IP Stack Libraries Help</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-5324F446-60A4-4815-82AA-571C61BA6DE9-d10887e19" class="topicref" data-id="GUID-5324F446-60A4-4815-82AA-571C61BA6DE9" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-5324F446-60A4-4815-82AA-571C61BA6DE9-d10887e19-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-5324F446-60A4-4815-82AA-571C61BA6DE9.html" id="GUID-5324F446-60A4-4815-82AA-571C61BA6DE9-d10887e19-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
TCP/IP Stack Library Overview</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="mplab-harmony-tcpip-library-d10887e67" class="topicref" data-id="mplab-harmony-tcpip-library" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action mplab-harmony-tcpip-library-d10887e67-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-01A0A1D8-EC9B-4EFF-B8E4-D154B555FEF2.html" id="mplab-harmony-tcpip-library-d10887e67-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
MPLAB® Harmony TCP/IP Library</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-6005945E-6669-486E-AA57-092C4EC0AD73-d10887e75" class="topicref" data-id="GUID-6005945E-6669-486E-AA57-092C4EC0AD73" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-6005945E-6669-486E-AA57-092C4EC0AD73-d10887e75-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-6005945E-6669-486E-AA57-092C4EC0AD73.html" id="GUID-6005945E-6669-486E-AA57-092C4EC0AD73-d10887e75-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.1</ph>
Application Layer</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-7E7ACF17-49E1-4FC5-A860-4268A671D578-d10887e5562" class="topicref" data-id="GUID-7E7ACF17-49E1-4FC5-A860-4268A671D578" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-7E7ACF17-49E1-4FC5-A860-4268A671D578-d10887e5562-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-7E7ACF17-49E1-4FC5-A860-4268A671D578.html" id="GUID-7E7ACF17-49E1-4FC5-A860-4268A671D578-d10887e5562-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.2</ph>
Presentation Layer</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-E1DDC267-1A89-4277-9F1F-90D0C7AE6C9B-d10887e6233" class="topicref" data-id="GUID-E1DDC267-1A89-4277-9F1F-90D0C7AE6C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-E1DDC267-1A89-4277-9F1F-90D0C7AE6C9B-d10887e6233-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-E1DDC267-1A89-4277-9F1F-90D0C7AE6C9B.html" id="GUID-E1DDC267-1A89-4277-9F1F-90D0C7AE6C9B-d10887e6233-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.3</ph>
Transport Layer</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-DBB5E017-A0FD-400E-BB4C-E19495836520-d10887e7211" class="topicref" data-id="GUID-DBB5E017-A0FD-400E-BB4C-E19495836520" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-DBB5E017-A0FD-400E-BB4C-E19495836520-d10887e7211-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-DBB5E017-A0FD-400E-BB4C-E19495836520.html" id="GUID-DBB5E017-A0FD-400E-BB4C-E19495836520-d10887e7211-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4</ph>
Network Layer</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-843614BE-24D5-42C0-9C00-A2BB0737CA5E-d10887e7219" class="topicref" data-id="GUID-843614BE-24D5-42C0-9C00-A2BB0737CA5E" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-843614BE-24D5-42C0-9C00-A2BB0737CA5E-d10887e7219-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-843614BE-24D5-42C0-9C00-A2BB0737CA5E.html" id="GUID-843614BE-24D5-42C0-9C00-A2BB0737CA5E-d10887e7219-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.1</ph>
ARP Module</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-CE833EBE-8E54-48AE-A78F-733330292EFF-d10887e7429" class="topicref" data-id="GUID-CE833EBE-8E54-48AE-A78F-733330292EFF" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-CE833EBE-8E54-48AE-A78F-733330292EFF-d10887e7429-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-CE833EBE-8E54-48AE-A78F-733330292EFF.html" id="GUID-CE833EBE-8E54-48AE-A78F-733330292EFF-d10887e7429-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.2</ph>
ICMP Module</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-642B5607-DAB5-4AAF-8487-2AF208A2625C-d10887e7566" class="topicref" data-id="GUID-642B5607-DAB5-4AAF-8487-2AF208A2625C" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-642B5607-DAB5-4AAF-8487-2AF208A2625C-d10887e7566-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-642B5607-DAB5-4AAF-8487-2AF208A2625C.html" id="GUID-642B5607-DAB5-4AAF-8487-2AF208A2625C-d10887e7566-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.3</ph>
ICMPv6 Module</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-94510D18-9ED8-4821-A315-200CED9BBC43-d10887e7646" class="topicref" data-id="GUID-94510D18-9ED8-4821-A315-200CED9BBC43" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-94510D18-9ED8-4821-A315-200CED9BBC43-d10887e7646-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-94510D18-9ED8-4821-A315-200CED9BBC43.html" id="GUID-94510D18-9ED8-4821-A315-200CED9BBC43-d10887e7646-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.4</ph>
IGMP Module</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353-d10887e7831" class="topicref" data-id="GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353-d10887e7831-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353.html" id="GUID-98A5FE63-B0F4-4D04-BA00-861E9841D353-d10887e7831-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.5</ph>
IPv4 Module</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" class="active"><div data-tocid="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956-d10887e7839" class="topicref" data-id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956.html" id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956-d10887e7839-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.5.1</ph>
Abstraction Model</a></div></div></li><li role="treeitem"><div data-tocid="internet-protocol-ip-configurations-d10887e7847" class="topicref" data-id="internet-protocol-ip-configurations" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-12D00113-ED56-4D92-AEE9-3C4A304712BB.html" id="internet-protocol-ip-configurations-d10887e7847-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.5.2</ph>
Internet Protocol (IP) Configurations</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="library-interface-d10887e7855" class="topicref" data-id="library-interface" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action library-interface-d10887e7855-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-EA29E72F-4194-41F9-9F19-D8BBA00D62F2.html" id="library-interface-d10887e7855-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.5.3</ph>
Library Interface</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-3AC795BB-D083-4D56-8E63-97B913264136-d10887e8097" class="topicref" data-id="GUID-3AC795BB-D083-4D56-8E63-97B913264136" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-3AC795BB-D083-4D56-8E63-97B913264136-d10887e8097-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3AC795BB-D083-4D56-8E63-97B913264136.html" id="GUID-3AC795BB-D083-4D56-8E63-97B913264136-d10887e8097-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.6</ph>
IPv6 Module</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-9F670845-16F8-4538-9449-22EE94D82ACD-d10887e8671" class="topicref" data-id="GUID-9F670845-16F8-4538-9449-22EE94D82ACD" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-9F670845-16F8-4538-9449-22EE94D82ACD-d10887e8671-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-9F670845-16F8-4538-9449-22EE94D82ACD.html" id="GUID-9F670845-16F8-4538-9449-22EE94D82ACD-d10887e8671-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4.7</ph>
NDP Module</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-250DB789-3EBA-4CB9-9E89-A7FA70666029-d10887e8711" class="topicref" data-id="GUID-250DB789-3EBA-4CB9-9E89-A7FA70666029" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-250DB789-3EBA-4CB9-9E89-A7FA70666029-d10887e8711-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-250DB789-3EBA-4CB9-9E89-A7FA70666029.html" id="GUID-250DB789-3EBA-4CB9-9E89-A7FA70666029-d10887e8711-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5</ph>
Data Link Layer</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-C3332C0B-3712-4AA4-ABCD-74CB266FEDF1-d10887e11260" class="topicref" data-id="GUID-C3332C0B-3712-4AA4-ABCD-74CB266FEDF1" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-C3332C0B-3712-4AA4-ABCD-74CB266FEDF1-d10887e11260-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-C3332C0B-3712-4AA4-ABCD-74CB266FEDF1.html" id="GUID-C3332C0B-3712-4AA4-ABCD-74CB266FEDF1-d10887e11260-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.6</ph>
Basic Configuration Layer</a></div></div></li></ul></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-75BD1A70-4576-4266-8274-1F18619A98A0-d10887e12219" class="topicref" data-id="GUID-75BD1A70-4576-4266-8274-1F18619A98A0" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-75BD1A70-4576-4266-8274-1F18619A98A0-d10887e12219-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-75BD1A70-4576-4266-8274-1F18619A98A0.html" id="GUID-75BD1A70-4576-4266-8274-1F18619A98A0-d10887e12219-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">2</ph>
Getting started with MPLAB® Harmony TCP/IP Stack </a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d10887e12348" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d10887e12348-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d10887e12348-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__GUID-659BD2F9-09BC-4A60-8751-BBCD806FB83D">
<h1 class="- topic/title title topictitle1" id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__GUID-659BD2F9-09BC-4A60-8751-BBCD806FB83D" style="">1.2.4.5.1 Abstraction Model</h1>
<div class="- topic/body body">
        <p class="- topic/p p">This module provides software abstraction of the IPv4 module existent in any TCP/IP Stack
            implementation. </p>
        <p class="- topic/p p">The typical usage of the IP layer_in a TCP/IP stack for transmitting a packet is shown in
            the following diagram: </p>
        <div class=""><img class="- topic/image image" id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__IMAGE_Q4C_VKV_M1C" src="GUID-6196A351-F99D-4408-A08D-DCCD4366AEB7-high.png"/></div>
        <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Core Functionality</strong></p>
        <div class=""><img class="- topic/image image" id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__IMAGE_TCZ_XKV_M1C" src="GUID-EC24582E-1523-47AD-825A-93C4629088C7-high.png"/></div>
        <p class="- topic/p p">To transmit an IP packet over the network, the application has to prepare an IPV4_PACKET
            data structure and properly format it so that the recipients of this packet (the IP and
            the MAC layers) can process the packet. </p>
        <p class="- topic/p p">The TCP/IP Stack modules allocate the IPV4_PACKET data structures dynamically using the
            TCP/IP Stack private heap using packet allocation functions. </p>
        <div class="- topic/note note notype note_notype" id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__NOTE_N5K_FLV_M1C" data-ofbid="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__NOTE_N5K_FLV_M1C"><span class="note__title">Note:</span> Currently, the packet and heap allocation functions are not
            exposed as public APIs as they are meant for stack’s private usage. This may change in
            the future.</div>
        <p class="- topic/p p">The IPV4_PACKET packet can be allocated statically by the application. </p>
        <p class="- topic/p p">When the IPV4_PACKET is constructed an important thing to remember is to fill in the
            appropriate packet acknowledge function. Once the MAC layer/driver is done with
            processing the packet (successfully or not) it will call the IPV4_PACKET acknowledge
            function, indicating that the packet is now available (and could be freed or reused). </p>
        <p class="- topic/p p">The next step is to fill in the packet source and destination addresses, as well as the
            outgoing interface (please keep in mind that the TCP/IP stack supports multiple network
            interfaces). </p>
        <p class="- topic/p p">This could be done with a call to TCPIP_IPV4_SelectSourceInterface or the application can
            select all these addresses manually. </p>
        <p class="- topic/p p">All that’s left before handing the packet is to call TCPIP_IPV4_PacketFormatTx. This call
            fills in the supplied packet with the IP header structure and updates the IP checksum.
            Please note that this function expects a properly formatted packet, with the source and
            destination addresses filled in. </p>
        <p class="- topic/p p">After this, the application can call TCPIP_IPV4_PacketTransmit. This function does some
            basic packet checks and expects that the packet has a valid network interface selected
            otherwise the call will fail. </p>
        <p class="- topic/p p">After further formatting (with the MAC required headers), the IP layer_will try to send
            the packet over the network. If the destination hardware address is known (the ARP
            resolve call succeeds) the packet is handed over to the MAC. Otherwise, the IP will
            insert the packet into a queue, waiting for the ARP resolution. When ARP signals that
            the request is done (either success or timeout) the IP layer_intercepts the signal and
            removes the packet from the wait queue: either hands it over to the MAC for transmission
            or it discards it if the ARP resolution failed. </p>
        <p class="- topic/p p">The MAC layer/driver in its turn can transmit it immediately, queue the packet for
            transmission or discard it (if, for example the network link is down). Regardless, once
            the packet is processed, the packet acknowledge function is called with an updated
            acknowledge result. This informs the owner of the packet about the result of the
            operation and also that the packet is no longer in traffic. </p>
        <div class="- topic/note note notype note_notype" id="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__NOTE_D4B_2LV_M1C" data-ofbid="GUID-E3405C68-FC4C-4ED2-973D-F46A684D7956__NOTE_D4B_2LV_M1C"><span class="note__title">Note:</span> Transmission of chained packets is not supported. Each packet
            has to be transmitted individually. </div>
    </div>
    <article class="- topic/topic topic nested1" aria-labelledby="TOPIC_WW1_3LV_M1C__GUID-6FB736C5-F852-4BEA-A9BC-AD94CC748736" id="TOPIC_WW1_3LV_M1C">
        <h2 class="- topic/title title topictitle2" id="TOPIC_WW1_3LV_M1C__GUID-6FB736C5-F852-4BEA-A9BC-AD94CC748736" style=""> How the Library Works</h2>
        <div class="- topic/body body">
            <p class="- topic/p p">On the transmit side, the IP layer_is responsible for routing and forwarding the IP
                datagrams to the required destination host. To do that, the IP layer_has internal
                functionality that allows the selection of the proper network interface and
                destination hardware address of a packet. </p>
            <p class="- topic/p p">Based on the destination of a packet/datagram, the IP layer_will send the packet to
                either a host on the network or to a gateway if either is available. To accomplish
                this, the IP module works closely with the ARP layer_from which it requests the
                destination hardware addresses for outgoing packets. If the destination address of a
                packet is not known, the IP module will request an ARP probe and will wait for the
                ARP module reply. Whenever ARP signals that the solicited address is available, the
                IP module will send the packet over the network. If a time-out is reported (no such
                host could be found on that particular network), the packet is silently discarded. </p>
            <p class="- topic/p p">On the receive side, the IP module processes all the incoming IPv4 packets and
                performs a basic sanity check of the packet checksum and other attributes. If the
                packet check fails, the packet is simply discarded. Otherwise, it is dispatched for
                further processing to the appropriate module (UDP, TCP, ICMP, etc.). </p>
            <p class="- topic/p p">The IP layer_operation within the TCP/IP stack is transparent to the applications
                using the preferred_socket_API (MCHP UDP, TCP or BSD). This means that normally an
                application does not need to interface directly to the IP_layer. However, the IP
                module exposes an API that can be used by the application for sending IP datagrams
                directly, bypassing the normal higher layer_protocols (UDP, TCP). </p>
            <p class="- topic/p p">&gt; Notes: </p>
            <div class="- topic/note note notype note_notype" id="TOPIC_WW1_3LV_M1C__NOTE_Z34_KLV_M1C" data-ofbid="TOPIC_WW1_3LV_M1C__NOTE_Z34_KLV_M1C"><span class="note__title">Note:</span> 
                <ul class="- topic/ul ul" id="TOPIC_WW1_3LV_M1C__UL_YF5_4LV_M1C" data-ofbid="TOPIC_WW1_3LV_M1C__UL_YF5_4LV_M1C">
                    <li class="- topic/li li" id="TOPIC_WW1_3LV_M1C__GUID-1B8D9FA9-367B-4BF7-868A-BDA383973BD0" data-ofbid="TOPIC_WW1_3LV_M1C__GUID-1B8D9FA9-367B-4BF7-868A-BDA383973BD0">Currently, it is not possible for an application to intercept the incoming
                        IP datagrams and interfere with the default IP processing. However, this may
                        change in the future and support can be added for the receive side. </li>
                    <li class="- topic/li li" id="TOPIC_WW1_3LV_M1C__GUID-35C43AD8-165E-4580-BA8A-D92CD8AFE306" data-ofbid="TOPIC_WW1_3LV_M1C__GUID-35C43AD8-165E-4580-BA8A-D92CD8AFE306">For a detailed description of the IP layer_functionality, please consult RFC
                        791, RFC 1122, RFC 2474, etc. </li>
                    <li class="- topic/li li" id="TOPIC_WW1_3LV_M1C__GUID-09C81077-E7C6-41A2-9A65-1042F0A0C86F" data-ofbid="TOPIC_WW1_3LV_M1C__GUID-09C81077-E7C6-41A2-9A65-1042F0A0C86F">This implementation supports packet fragmentation both on transmit and
                        receive side. </li>
                </ul>
            </div>
        </div>
    </article>
</article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
  
  <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
  <script type="text/javascript" src="mchp-js/prepend.js"></script><!-- Package for viewing PDFs on mobile devices -->
  
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
       
        </body>
</html>