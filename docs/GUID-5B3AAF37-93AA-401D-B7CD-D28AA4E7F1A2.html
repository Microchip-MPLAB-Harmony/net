<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="TCPIP_SNMP_TrapSendFlagSet Function" />
<meta name="DC.relation" scheme="URI" content="GUID-7764E81C-8FC9-4B3E-8830-255BDE678AA0.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="tcpip-snmp-trapsendflagset-function" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>TCPIP_SNMP_TrapSendFlagSet Function</title>
<meta name="Microsoft.Help.Id" content="GUID-B1AF6B2B-BC62-4D92-B329-A50140DF3437-tcpip-snmp-trapsendflagset-function" />
<meta name="Microsoft.Help.TocParent" content="GUID-B1AF6B2B-BC62-4D92-B329-A50140DF3437" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony TCP/IP Library Reference A 10/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-5B3AAF37-93AA-401D-B7CD-D28AA4E7F1A2"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="tcpip-snmp-trapsendflagset-function">
<h1 class="title topictitle1" id="ariaid-title1">TCPIP_SNMP_TrapSendFlagSet Function</h1><div class="body"></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-7764E81C-8FC9-4B3E-8830-255BDE678AA0.html">SNMP Module</a></div>
</div>
</div><div class="topic nested1" aria-labelledby="ariaid-title2" id="c"><h2 class="title topictitle2" id="ariaid-title2">C</h2><div class="body"><pre class="pre codeblock"><button title="Copy Code" class="copy-code" onclick="cpy('d237945e21', this);">Copy</button><code id="d237945e21" content="void TCPIP_SNMP_TrapSendFlagSet(&#xD;&#xA;    bool trapNotify&#xD;&#xA;);&#xD;">void TCPIP_SNMP_TrapSendFlagSet(&#xD;
    bool trapNotify&#xD;
);&#xD;</code></pre></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="description"><h2 class="title topictitle2" id="ariaid-title3">Description</h2><div class="body"><p class="p">This function is used to set the trap send flag details and this is used only when user is trying to send more than one varbind in a single PDU. That is more than one notification details are required to be part of a single PDU. By default TRAP send flag is set to false. If there is only varbind need to be part of Notification PDU, then this function should be called with boolean false. Please find the usage of this flag in this following example.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title4" id="preconditions"><h2 class="title topictitle2" id="ariaid-title4">Preconditions</h2><div class="body"><p class="p">TCPIP_SNMP_Initialize() is already called.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title5" id="returns"><h2 class="title topictitle2" id="ariaid-title5">Returns</h2><div class="body"><p class="p">None.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title6" id="remarks"><h2 class="title topictitle2" id="ariaid-title6">Remarks</h2><div class="body"><p class="p">None.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title7" id="example"><h2 class="title topictitle2" id="ariaid-title7">Example</h2><div class="body"><pre class="pre codeblock"><button title="Copy Code" class="copy-code" onclick="cpy('d237945e51', this);">Copy</button><code id="d237945e51" content="void SNMPv2TrapDemo(void)&#xD;&#xA;{&#xD;&#xA;    //set TRAP send flag to true , it signifies that there are more than one&#xD;&#xA;    // variable need to be the part of SNMP v2 TRAP.&#xD;&#xA;    TCPIP_SNMP_TrapSendFlagSet(true);&#xD;&#xA;    &#xD;&#xA;    // PUSH button varbind &#xD;&#xA;    TCPIP_SNMP_Notify(PUSH_BUTTON,analogPotVal,0);&#xD;&#xA;    &#xD;&#xA;    // Before adding the last varbind to the TRAP PDU, TRAP send flag should &#xD;&#xA;    // be set to  false. That it indicates it is the last varbind to the &#xD;&#xA;    // Notification PDU.&#xD;&#xA;    TCPIP_SNMP_TrapSendFlagSet(false);&#xD;&#xA;    &#xD;&#xA;    // Last varbind LED0_IO &#xD;&#xA;    TCPIP_SNMP_Notify(LED0_IO,analogPotVal,0);      &#xD;&#xA;    &#xD;&#xA;}&#xD;">void SNMPv2TrapDemo(void)&#xD;
{&#xD;
    //set TRAP send flag to true , it signifies that there are more than one&#xD;
    // variable need to be the part of SNMP v2 TRAP.&#xD;
    TCPIP_SNMP_TrapSendFlagSet(true);&#xD;
    &#xD;
    // PUSH button varbind &#xD;
    TCPIP_SNMP_Notify(PUSH_BUTTON,analogPotVal,0);&#xD;
    &#xD;
    // Before adding the last varbind to the TRAP PDU, TRAP send flag should &#xD;
    // be set to  false. That it indicates it is the last varbind to the &#xD;
    // Notification PDU.&#xD;
    TCPIP_SNMP_TrapSendFlagSet(false);&#xD;
    &#xD;
    // Last varbind LED0_IO &#xD;
    TCPIP_SNMP_Notify(LED0_IO,analogPotVal,0);      &#xD;
    &#xD;
}&#xD;</code></pre></div>
</div>
</body>
</html>