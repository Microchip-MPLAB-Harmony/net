<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>TCPIP_STACK_NetConfigSet Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '03528.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00951.html" target="topic">TCP/IP Stack Libraries Help</a> &gt; <a href="00957.html" target="topic">Manager Module</a> &gt; <a href="01531.html" target="topic">Library Interface</a> &gt; f) Network Structure Storage Functions &gt; <a href="03528.html" target="topic">TCPIP_STACK_NetConfigSet Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony TCP/IP Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="01504.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="03527.html" target="topic">Previous</a> | <a href="01531.html" target="topic">Up</a> | <a href="03450.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: TCPIP_STACK_NetConfigSet@void*@void*@size_t@size_t* Topic Title: TCPIP_STACK_NetConfigSet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
TCPIP_STACK_NetConfigSet Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This function restores data from a previously dump buffer and updates the supplied interface configuration. All the data is recovered and constructed into the netConfigBuff (supposing this buffer is large enough). If this operation succeeded, the netConfigBuff can be safely cast to a (TCPIP_NETWORK_CONFIG*).&nbsp;</p>
<p class="Element10">
The structure of the netConfigBuff is as follows:</p>
<ul class="Element630">
<li class="Element600">A TCPIP_NETWORK_CONFIG structure is created at the very beginning of the buffer.</li>
<li class="Element600">All of the necessary fields that are part of the TCPIP_NETWORK_CONFIG will be placed in the buffer itself.</li>
</ul></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100">TCPIP_NETWORK_CONFIG* <strong><span style="color: #000000">TCPIP_STACK_NetConfigSet</span></strong>(
    <strong><span style="color: #000080">void</span></strong>* <strong><span style="color: #000000">configStoreBuff</span></strong>, 
    <strong><span style="color: #000080">void</span></strong>* <strong><span style="color: #000000">netConfigBuff</span></strong>, 
    size_t <strong><span style="color: #000000">buffSize</span></strong>, 
    size_t* <strong><span style="color: #000000">pNeededSize</span></strong>
);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
The TCP/IP stack should have been initialized by <a href="03505.html" target="topic">TCPIP_STACK_Initialize</a> and the <a href="03549.html" target="topic">TCPIP_STACK_Status</a> returned SYS_STATUS_READY.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table3">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
configStoreBuff&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
pointer to a buffer that received configuration data from a <a href="03527.html" target="topic">TCPIP_STACK_NetConfigGet</a> call.&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
netConfigBuff&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
pointer to a buffer that will receive the TCPIP_NETWORK_CONFIG data&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
buffSize&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
size of the supplied netConfigBuff buffer&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
pNeededSize&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
pointer to store the size needed for storage; can be NULL if not needed. If supplied, the pNeededSize will be updated with the actual size that's needed for the netConfigBuff.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">

<ul class="Element630">
<li class="Element600">valid TCPIP_NETWORK_CONFIG pointer (netConfigBuff) if netConfigBuff was successfully updated</li>
<li class="Element600">0 if the netConfigBuff is not supplied or is not large enough</li>
</ul></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
The function is a helper for being able to restore the configuration data. Its companion function, <a href="03527.html" target="topic">TCPIP_STACK_NetConfigGet</a>, saves the TCPIP_NETWORK_CONFIG to a dump buffer.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element13"><div class="Element12"><pre class="Element12"> uint8_t currConfig[200];
 uint8_t restoreBuff[200];
 size_t neededSize, result;
 <a href="03055.html" target="topic">TCPIP_NET_HANDLE</a> hNet = <a href="03533.html" target="topic">TCPIP_STACK_NetHandleGet</a>(&quot;PIC32INT&quot;);
 result = <a href="03527.html" target="topic">TCPIP_STACK_NetConfigGet</a>(hNet, currConfig, <strong><span style="color: #000080">sizeof</span></strong>(currConfig), &amp;neededSize);
 <strong><span style="color: #000080">if</span></strong>(result &gt; 0)
 {   
      <i><span style="color: #008000">// store the currConfig buffer to some external storage (neededSize bytes needed)</span></i>

      <i><span style="color: #008000">// later on restore the configuration</span></i>
      TCPIP_NETWORK_CONFIG* netConfig;
      <i><span style="color: #008000">// extract the network configuration from the previously saved buffer </span></i>
      netConfig = TCPIP_STACK_NetConfigSet(currConfig, restoreBuff, <strong><span style="color: #000080">sizeof</span></strong>(restoreBuff), &amp;neededSize);
      <strong><span style="color: #000080">if</span></strong>(netConfig)
      {
          <i><span style="color: #008000">// use this netConfig to initialize a network interface</span></i>
          <a href="03546.html" target="topic">TCPIP_STACK_NetUp</a>(hNet, netConfig);
      }
 }</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00951.html" target="topic">TCP/IP Stack Libraries Help</a> &gt; <a href="00957.html" target="topic">Manager Module</a> &gt; <a href="01531.html" target="topic">Library Interface</a> &gt; f) Network Structure Storage Functions &gt; <a href="03528.html" target="topic">TCPIP_STACK_NetConfigSet Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony TCP/IP Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="01504.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="03527.html" target="topic">Previous</a> | <a href="01531.html" target="topic">Up</a> | <a href="03450.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: TCPIP_STACK_NetConfigSet@void*@void*@size_t@size_t* Topic Title: TCPIP_STACK_NetConfigSet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>