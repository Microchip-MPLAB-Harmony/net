<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>TCPIP_HTTP_NET_DynPrint Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '02408.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00951.html" target="topic">TCP/IP Stack Libraries Help</a> &gt; <a href="00659.html" target="topic">HTTP Net Module</a> &gt; <a href="01440.html" target="topic">Library Interface</a> &gt; a) Functions &gt; <a href="02408.html" target="topic">TCPIP_HTTP_NET_DynPrint Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony TCP/IP Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="01504.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="02407.html" target="topic">Previous</a> | <a href="01440.html" target="topic">Up</a> | <a href="02456.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: TCPIP_HTTP_NET_DynPrint@TCPIP_HTTP_NET_CONN_HANDLE@TCPIP_HTTP_DYN_VAR_DCPT*@TCPIP_HTTP_NET_USER_CALLBACK* Topic Title: TCPIP_HTTP_NET_DynPrint Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
TCPIP_HTTP_NET_DynPrint Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
Functions in this style are implemented by the application developer. This function generates dynamic content to be inserted into web pages.&nbsp;</p>
<p class="Element10">
The function of this type is called when a dynamic variable is located in a web page. (i.e., ~varname~) The name between the tilde '~' characters is passed as the dynamic variable name.&nbsp;</p>
<p class="Element10">
The function currently supports int32_t and string parameters. The dynamic variable parameters are included in the varDcpt data structure that's passed at the time of the call. For example, the variable &quot;~myArray(2,6)~&quot; will generate the call with: varDcpt.dynName = &quot;myArray&quot;; varDcpt.nArgs = 2; varDcpt.dynArgs-&gt;argType = TCPIP_HTTP_DYN_ARG_TYPE_INT32; varDcpt.dynArgs-&gt;argInt32 = 2; (varDcpt.dynArgs + 1)-&gt;argType = TCPIP_HTTP_DYN_ARG_TYPE_INT32; (varDcpt.dynArgs + 1)-&gt;argInt32 = 6;&nbsp;</p>
<p class="Element10">
When called, this function should write its output to the HTTP connection using the <a href="02406.html" target="topic">TCPIP_HTTP_NET_DynamicWrite</a>/<a href="02407.html" target="topic">TCPIP_HTTP_NET_DynamicWriteString</a> functions.&nbsp;</p>
<p class="Element10">
In situations where the dynamic variable print function needs to perform additional write operations, or simply needs to be called again, it must</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><a href="02317.html" target="topic">TCPIP_HTTP_DYN_PRINT_RES</a> <strong><span style="color: #000000">TCPIP_HTTP_NET_DynPrint</span></strong>(
    <a href="02363.html" target="topic">TCPIP_HTTP_NET_CONN_HANDLE</a> <strong><span style="color: #000000">connHandle</span></strong>, 
    <strong><span style="color: #000080">const</span></strong> <a href="02322.html" target="topic">TCPIP_HTTP_DYN_VAR_DCPT</a>* <strong><span style="color: #000000">varDcpt</span></strong>, 
    <strong><span style="color: #000080">const</span></strong> <a href="02545.html" target="topic">TCPIP_HTTP_NET_USER_CALLBACK</a>* <strong><span style="color: #000000">pCBack</span></strong>
);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table3">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
connHandle&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
HTTP connection handle&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
varDcpt&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
pointer to a variable descriptor containing the dynamic variable name and arguments valid within this call context only.&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
pCBack&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
user <a href="02545.html" target="topic">TCPIP_HTTP_NET_USER_CALLBACK</a> pointer&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
TCPIP_HTTP_DYN_PRINT_RES_PROCESS_AGAIN/TCPIP_HTTP_DYN_PRINT_RES_AGAIN. Typically this is used when outputting large amounts of data that cannot fit into one single buffer write operation or when the data is not available all at once.&nbsp;</p>
<p class="Element10">
An alternative (legacy) mechanism for that, is using the connection callbackPos calls: (<a href="02368.html" target="topic">TCPIP_HTTP_NET_ConnectionCallbackPosGet</a>/<a href="02369.html" target="topic">TCPIP_HTTP_NET_ConnectionCallbackPosSet</a>). This value will be set to zero before the function is called. If the function is managing its output state, it must set this to a non-zero value before returning. If the connection callbackPos is non-zero, the function will be called again after the current data is processed (equivalent to returning TCPIP_HTTP_DYN_PRINT_RES_PROCESS_AGAIN). Once the callback completes, set the callback value back to zero and return TCPIP_HTTP_DYN_PRINT_RES_DONE to resume normal servicing of the request.&nbsp;</p>
<p class="Element10">
If the function does not process this dynamic variable callback (or it wants the default action to be performed), it should return TCPIP_HTTP_DYN_PRINT_RES_DEFAULT. Then the default action for that variable will be performed by the HTTP module.&nbsp;</p>
<p class="Element10">
Note that this is an advanced feature and will be used for processing of HTTP dynamic variable keywords. No implementation currently exists for user added variables and the default action in this case will do nothing.&nbsp;</p>
<p class="Element10">
A <a href="02317.html" target="topic">TCPIP_HTTP_DYN_PRINT_RES</a> specifying the action to be taken. See the <a href="02317.html" target="topic">TCPIP_HTTP_DYN_PRINT_RES</a> definition for a list of allowed actions</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function may service multiple HTTP requests simultaneously, especially when managing its output state. Exercise caution when using global or static variables inside this routine. Use the connection callbackPos or the connection data buffer for storage associated with individual requests.&nbsp;</p>
<p class="Element10">
The varDcpt variable descriptor is valid only in the context of this call. Any parameters that are needed for further processing should be copied to user storage.&nbsp;</p>
<p class="Element10">
The varDcpt variable descriptor is constant and should not be modified in any way by the callback.&nbsp;</p>
<p class="Element10">
If the callback returned TCPIP_HTTP_DYN_PRINT_RES_DEFAULT, no further calls will be made to the callback function.&nbsp;</p>
<p class="Element10">
Returning TCPIP_HTTP_DYN_PRINT_RES_PROCESS_AGAIN/TCPIP_HTTP_DYN_PRINT_RES_AGAIN is an alternative mechanism to manipulation the connection status with <a href="02369.html" target="topic">TCPIP_HTTP_NET_ConnectionCallbackPosSet</a>/<a href="02368.html" target="topic">TCPIP_HTTP_NET_ConnectionCallbackPosGet</a> functions (which mechanism is still valid).</p>
<ul class="Element630">
<li class="Element600">If the TCPIP_HTTP_NET_DynPrint() returned TCPIP_HTTP_DYN_PRINT_RES_PROCESS_AGAIN, the HTTP server will start sending the dynamic variable buffer (invoked by <a href="02406.html" target="topic">TCPIP_HTTP_NET_DynamicWrite</a>/<a href="02407.html" target="topic">TCPIP_HTTP_NET_DynamicWriteString</a>). Once sending is done, the HTTP server will again call TCPIP_HTTP_NET_DynPrint regardless of the value set with the callback position.</li>
<li class="Element600">If the TCPIP_HTTP_NET_DynPrint() returned TCPIP_HTTP_DYN_PRINT_RES_AGAIN, there will be no processing of dynamic variable data (potentially written to the connection) but the TCPIP_HTTP_NET_DynPrint will be invoked again. Returning TCPIP_HTTP_DYN_PRINT_RES_AGAIN is needed when <a href="02406.html" target="topic">TCPIP_HTTP_NET_DynamicWrite</a> failed or some condition is not satisfied and the TCPIP_HTTP_NET_DynPrint needs to be called again.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10">
The callback position mechanism will be evaluated after the TCPIP_HTTP_NET_DynPrint returns TCPIP_HTTP_DYN_PRINT_RES_DONE.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00951.html" target="topic">TCP/IP Stack Libraries Help</a> &gt; <a href="00659.html" target="topic">HTTP Net Module</a> &gt; <a href="01440.html" target="topic">Library Interface</a> &gt; a) Functions &gt; <a href="02408.html" target="topic">TCPIP_HTTP_NET_DynPrint Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony TCP/IP Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="01504.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="02407.html" target="topic">Previous</a> | <a href="01440.html" target="topic">Up</a> | <a href="02456.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: TCPIP_HTTP_NET_DynPrint@TCPIP_HTTP_NET_CONN_HANDLE@TCPIP_HTTP_DYN_VAR_DCPT*@TCPIP_HTTP_NET_USER_CALLBACK* Topic Title: TCPIP_HTTP_NET_DynPrint Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>